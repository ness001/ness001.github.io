<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Apple Lines è‹¹æœå¹¿å‘Šè¯æ‘˜å½•</title>
    <url>/2019/12/07/apple-ad-lines/</url>
    <content><![CDATA[<p>æ„¿è‹¹æœæ°¸ä¸è½å¹•ã€‚</p>
<p>Long Live with Apple.</p>
<h2 id="Special-Day"><a href="#Special-Day" class="headerlink" title="Special Day"></a>Special Day</h2><p>gift</p>
<blockquote>
<p>Make someoneâ€™s holiday.</p>
</blockquote>
<p>Best of 2019</p>
<blockquote>
<p>ä½ çš„å¿ƒå¤´æ‰€çˆ±ï¼Œæˆ‘ä»¬ç”„é€‰æ¨èã€‚</p>
<p>Loved by you. Awarded bu us.</p>
</blockquote>
<h2 id="Product"><a href="#Product" class="headerlink" title="Product"></a>Product</h2><h3 id="Apple-Watch"><a href="#Apple-Watch" class="headerlink" title="Apple Watch"></a>Apple Watch</h3><p>ï£¿watch series5</p>
<blockquote>
<p>å…¨å¤©å€™è§†ç½‘è†œæ˜¾ç¤ºå±ï¼Œå…¨æ–°ç™»åœºã€‚</p>
<p>è¿™å—è¡¨ï¼Œå¥½ä¸ä¸€æ ·ã€‚</p>
</blockquote>
<h3 id="AirPods"><a href="#AirPods" class="headerlink" title="AirPods"></a>AirPods</h3><p>AirPods Pro</p>
<blockquote>
<p>å¦™å¾—ä¸åŒå‡¡å“ã€‚</p>
<p>Magic like youâ€™ve never heard.</p>
</blockquote>
<h3 id="iPhone"><a href="#iPhone" class="headerlink" title="iPhone"></a>iPhone</h3><p>iPhone 11 Pro</p>
<blockquote>
<p>Pro cameras. Pro display. Pro performance.</p>
</blockquote>
<p>iPhone 11</p>
<blockquote>
<p>Just the right amount of everything.</p>
</blockquote>
<p>iPhone SE 2</p>
<blockquote>
<p>Lots to Love, Less to Spendï¼ˆæˆ‘è§‰å¾—ç”¨haveä¼šæ›´å¥½ï¼‰</p>
<p>ç§°å¿ƒç§°æ‰‹ï¼Œè¶…å€¼å…¥æ‰‹ã€‚</p>
<hr>
<p>iPhone SE packs our most powerful chip into our most popular size at our most affordable price. Itâ€™s just what youâ€™ve been waiting for.</p>
<p>Survives splashes,<br>sloshes, sprinkles, sprays,<br>splatters, and spills.</p>
<p>Built for iOS 13. And beyond.</p>
</blockquote>
<h3 id="ï£¿-tv"><a href="#ï£¿-tv" class="headerlink" title="ï£¿ tv+"></a>ï£¿ tv+</h3><blockquote>
<p>Bring the big screen to your screen.</p>
</blockquote>
<h2 id="Software"><a href="#Software" class="headerlink" title="Software"></a>Software</h2><p>macOS Catalina</p>
<blockquote>
<p>Macçš„æœ¬é¢†ï¼Œçªé£çŒ›è¿›ã€‚</p>
</blockquote>
]]></content>
      <tags>
        <tag>apple</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2021/08/09/Hexo%20NexT%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E7%82%B9%E5%87%BB%E7%88%B1%E5%BF%83%E6%95%88%E6%9E%9C/</url>
    <content><![CDATA[<h1 id="Hexoè‡ªå®š"><a href="#Hexoè‡ªå®š" class="headerlink" title="Hexoè‡ªå®š"></a>Hexoè‡ªå®š</h1><h2 id="Hexo-NexTä¸»é¢˜æ·»åŠ ç‚¹å‡»çˆ±å¿ƒæ•ˆæœ"><a href="#Hexo-NexTä¸»é¢˜æ·»åŠ ç‚¹å‡»çˆ±å¿ƒæ•ˆæœ" class="headerlink" title="Hexo NexTä¸»é¢˜æ·»åŠ ç‚¹å‡»çˆ±å¿ƒæ•ˆæœ"></a>Hexo NexTä¸»é¢˜æ·»åŠ ç‚¹å‡»çˆ±å¿ƒæ•ˆæœ</h2><h3 id="åˆ›å»ºjsæ–‡ä»¶"><a href="#åˆ›å»ºjsæ–‡ä»¶" class="headerlink" title="åˆ›å»ºjsæ–‡ä»¶"></a>åˆ›å»ºjsæ–‡ä»¶</h3><p>åœ¨<code>/themes/next/source/js/src</code>ä¸‹æ–°å»ºæ–‡ä»¶<code>clicklove.js</code>ï¼Œæ¥ç€æŠŠè¯¥<a href="http://7u2ss1.com1.z0.glb.clouddn.com/love.js">é“¾æ¥</a>ä¸‹çš„ä»£ç æ‹·è´ç²˜è´´åˆ°<code>clicklove.js</code>æ–‡ä»¶ä¸­ã€‚<br>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">!function(e,t,a)&#123;function n()&#123;c(&quot;.heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: &#x27;&#x27;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;&quot;),o(),r()&#125;function r()&#123;for(var e=0;e&lt;d.length;e++)d[e].alpha&lt;=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText=&quot;left:&quot;+d[e].x+&quot;px;top:&quot;+d[e].y+&quot;px;opacity:&quot;+d[e].alpha+&quot;;transform:scale(&quot;+d[e].scale+&quot;,&quot;+d[e].scale+&quot;) rotate(45deg);background:&quot;+d[e].color+&quot;;z-index:99999&quot;);requestAnimationFrame(r)&#125;function o()&#123;var t=&quot;function&quot;==typeof e.onclick&amp;&amp;e.onclick;e.onclick=function(e)&#123;t&amp;&amp;t(),i(e)&#125;&#125;function i(e)&#123;var a=t.createElement(&quot;div&quot;);a.className=&quot;heart&quot;,d.push(&#123;el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()&#125;),t.body.appendChild(a)&#125;function c(e)&#123;var a=t.createElement(&quot;style&quot;);a.type=&quot;text/css&quot;;try&#123;a.appendChild(t.createTextNode(e))&#125;catch(t)&#123;a.styleSheet.cssText=e&#125;t.getElementsByTagName(&quot;head&quot;)[0].appendChild(a)&#125;function s()&#123;return&quot;rgb(&quot;+~~(255*Math.random())+&quot;,&quot;+~~(255*Math.random())+&quot;,&quot;+~~(255*Math.random())+&quot;)&quot;&#125;var d=[];e.requestAnimationFrame=function()&#123;return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e)&#123;setTimeout(e,1e3/60)&#125;&#125;(),n()&#125;(window,document);</span><br></pre></td></tr></table></figure>

<h3 id="ä¿®æ”¹-layout-swig"><a href="#ä¿®æ”¹-layout-swig" class="headerlink" title="ä¿®æ”¹_layout.swig"></a>ä¿®æ”¹_layout.swig</h3><p>åœ¨<code>\themes\next\layout\_layout.swig</code>æ–‡ä»¶æœ«å°¾æ·»åŠ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒ --&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/clicklove.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="æ·»åŠ åŠ¨æ€èƒŒæ™¯"><a href="#æ·»åŠ åŠ¨æ€èƒŒæ™¯" class="headerlink" title="æ·»åŠ åŠ¨æ€èƒŒæ™¯"></a>æ·»åŠ åŠ¨æ€èƒŒæ™¯</h2><h3 id="layout-swig"><a href="#layout-swig" class="headerlink" title="_layout.swig"></a>_layout.swig</h3><p>æ‰¾åˆ°<code>themes\next\layout\_layout.swig</code>æ–‡ä»¶ï¼Œæ·»åŠ å†…å®¹ï¼š<br>åœ¨&#96;&#96;é‡Œæ·»åŠ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;bg_content&quot;&gt;</span><br><span class="line">  &lt;canvas id=&quot;canvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>ä»æ˜¯è¯¥æ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/dynamic_bg.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="dynamic-bg-js"><a href="#dynamic-bg-js" class="headerlink" title="dynamic_bg.js"></a>dynamic_bg.js</h3><p>åœ¨<code>themes\next\source\js\src</code>ä¸­æ–°å»ºæ–‡ä»¶<code>dynamic_bg.js</code>ï¼Œä»£ç é“¾æ¥ä¸­å¯è§ï¼š<a href="https://github.com/asdfv1929/asdfv1929.github.io/blob/master/js/src/dynamic_bg.js">dynamic_bg.js</a></p>
<h3 id="custom-styl"><a href="#custom-styl" class="headerlink" title="custom.styl"></a>custom.styl</h3><p>åœ¨<code>themes\next\source\css\_custom\custom.styl</code>æ–‡ä»¶æœ«å°¾æ·»åŠ å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.bg_content &#123;</span><br><span class="line">  position: fixed;</span><br><span class="line">  top: 0;</span><br><span class="line">  z-index: -1;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="tag-cloud"><a href="#tag-cloud" class="headerlink" title="tag cloud"></a>tag cloud</h2><p>è¿›å…¥åˆ° <code>hexo</code> çš„æ ¹ç›®å½•ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥<code>npm install hexo-tag-cloud@^2.0.* --save </code></p>
<p>åœ¨ <code>package.json</code> ä¸­æ·»åŠ ä¾èµ–: <code>&quot;hexo-tag-cloud&quot;: &quot;2.0.*&quot;</code> ï¼Œåœ¨</p>
<p>åœ¨æ–‡ä»¶ theme&#x2F;next&#x2F;layout&#x2F;_macro&#x2F;sidebar.swigçš„<code>&lt;/nav&gt;</code>æ ‡ç­¾ä¹‹å‰æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;% if site.tags.length &gt; 1 %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/js/tagcloud.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/js/tagcanvas.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;widget-wrap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;widget-title&quot;</span>&gt;</span>Tag Cloud<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;myCanvasContainer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;widget tagcloud&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">width</span>=<span class="string">&quot;250&quot;</span> <span class="attr">height</span>=<span class="string">&quot;250&quot;</span> <span class="attr">id</span>=<span class="string">&quot;resCanvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width=100%&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123; list_tags() &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¢åŠ æ–°é¡µé¢é¡µé¢"><a href="#å¢åŠ æ–°é¡µé¢é¡µé¢" class="headerlink" title="å¢åŠ æ–°é¡µé¢é¡µé¢"></a>å¢åŠ æ–°é¡µé¢é¡µé¢</h2><p><code>hexo new post tags/about/archive</code></p>
<p>å…¶ä¸­å¯¹äºtagsï¼š</p>
<p>open â€¦&#x2F;_posts&#x2F;tags&#x2F;index.md</p>
<blockquote>
<p>title: tags<br>date: 2020-05-21 18:35:04<br>layout: â€œtagsâ€<br>type: tags</p>
</blockquote>
<h2 id="bug"><a href="#bug" class="headerlink" title="bug"></a>bug</h2><h3 id="å¯¼èˆªæ ä¸­ç‚¹å‡»tagsï¼Œarchiveï¼Œhomeï¼Œæµè§ˆå™¨æç¤ºæ‰¾ä¸åˆ°ï¼Œæ¯”å¦‚annot-GET-tags-20"><a href="#å¯¼èˆªæ ä¸­ç‚¹å‡»tagsï¼Œarchiveï¼Œhomeï¼Œæµè§ˆå™¨æç¤ºæ‰¾ä¸åˆ°ï¼Œæ¯”å¦‚annot-GET-tags-20" class="headerlink" title="å¯¼èˆªæ ä¸­ç‚¹å‡»tagsï¼Œarchiveï¼Œhomeï¼Œæµè§ˆå™¨æç¤ºæ‰¾ä¸åˆ°ï¼Œæ¯”å¦‚annot GET /tags/%20/"></a>å¯¼èˆªæ ä¸­ç‚¹å‡»tagsï¼Œarchiveï¼Œhomeï¼Œæµè§ˆå™¨æç¤ºæ‰¾ä¸åˆ°ï¼Œæ¯”å¦‚<code>annot GET /tags/%20/</code></h3><p>å¯¹theme&#x2F;next&#x2F;_config.ymlæ–‡ä»¶è¿›è¡Œç¼–è¾‘ï¼Œå°†ä¸­â€œ||â€å‰çš„ç©ºæ ¼åˆ æ‰ï¼Œä¸Šé¢å·²ç»æ˜¯ç¼–è¾‘å¥½çš„é…ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<blockquote>
<p>menu:</p>
<p>home: &#x2F;|| home</p>
<p>about: &#x2F;about&#x2F;|| user</p>
<p>tags: &#x2F;tags&#x2F;|| tags</p>
<p>#categories: &#x2F;categories&#x2F; || th</p>
<p>archives: &#x2F;archives&#x2F;|| archive</p>
<p>#schedule: &#x2F;schedule&#x2F; || calendar</p>
<p>#sitemap: &#x2F;sitemap.xml || sitemap</p>
<p># commonweal: &#x2F;404&#x2F;|| heartbeat</p>
</blockquote>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2021/08/09/copy%20current%20code%20line%20shortcut%20in%20Xcode/</url>
    <content><![CDATA[<h2 id="Env"><a href="#Env" class="headerlink" title="Env"></a>Env</h2><p>10.3 xcode</p>
<p>macos mojave</p>
<h2 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h2><ul>
<li>open <code>/Applications/Xcode.app/Contents/Frameworks/IDEKit.framework/Versions/A/Resources/IDETextKeyBindingSet.plist</code></li>
<li>Add the following lines into the <strong>root dictionary</strong> (after first dict occurrence)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;key&gt;Sublime Commands&lt;/key&gt;</span><br><span class="line">   &lt;dict&gt;</span><br><span class="line">       &lt;key&gt;Cut Current Line&lt;/key&gt;</span><br><span class="line">       &lt;string&gt;selectLine:, cut:&lt;/string&gt;</span><br><span class="line">       &lt;key&gt;Copy Current Line&lt;/key&gt;</span><br><span class="line">       &lt;string&gt;selectLine:, copy:&lt;/string&gt;</span><br><span class="line">       &lt;key&gt;Duplicate Current Line&lt;/key&gt;</span><br><span class="line">       &lt;string&gt;selectLine:, copy:, moveToBeginningOfLine:, paste:, moveToEndOfLine:&lt;/string&gt;</span><br><span class="line">   &lt;/dict&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>restart xcode</li>
<li><code>cmd + </code>, go to <code>key bindings</code>, go to Text, go to Sublime Commands<ul>
<li>add your own shortcut</li>
</ul>
</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>label encoderå’Œordinal encoderçš„åŒºåˆ«</title>
    <url>/2019/12/15/label-encoder%E5%92%8Cordinal-encoder%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
    <content><![CDATA[<p>ä¸­æ–‡åœˆçš„èµ„æ–™å¤§å¤šéƒ½æ˜¯é”™çš„æˆ–è€…è¯­ç„‰ä¸è¯¦ã€‚åœ¨æ­¤é˜è¿°æ¸…æ¥šï¼Œä¸ºåæ¥äººå¼€è·¯ã€‚</p>
<h2 id="ä¸€å¥è¯"><a href="#ä¸€å¥è¯" class="headerlink" title="ä¸€å¥è¯"></a>ä¸€å¥è¯</h2><p>ä¸¤è€…åŠŸèƒ½ä¸€æ ·ã€‚ä½†labelé€‚ç”¨äºç›®æ ‡å˜é‡ï¼Œè€Œordinalé€‚ç”¨äºå¤šä¸ªç‰¹å¾å˜é‡ã€‚</p>
<h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><p>æŸ¥è¯¢sklearnå®˜æ–¹æ–‡æ¡£ï¼Œå¯ä»¥çœ‹åˆ°label encoderçš„fitæ–¹æ³•ï¼Œè¾“å…¥çš„æ•°æ®æ˜¯ <strong>y array-like of shape (n_samples,)</strong></p>
<p>ï¼Œè€Œordinal encoderè¾“å…¥çš„æ•°æ®æ˜¯<strong>X array-like, shape [n_samples, n_features</strong>ã€‚</p>
]]></content>
      <tags>
        <tag>sklearn</tag>
      </tags>
  </entry>
  <entry>
    <title>generate requirement.txt for your python projectç”Ÿæˆ</title>
    <url>/2019/12/13/generate-requirement/</url>
    <content><![CDATA[<h2 id="generate-requirement-txt"><a href="#generate-requirement-txt" class="headerlink" title="generate requirement.txt"></a>generate requirement.txt</h2><ul>
<li>for all packages in the env <code>pip3 freeze &gt; requirements.txt</code></li>
<li>for packages used in you project<ul>
<li><code>pip3 install pipreqs</code></li>
<li><code>pipreqs </code></li>
</ul>
</li>
</ul>
<h2 id="install"><a href="#install" class="headerlink" title="install"></a>install</h2><p><code>pip3 install -r requirements.txt</code></p>
<h2 id="Whatâ€™s-the-difference-between-pip-and-pip3"><a href="#Whatâ€™s-the-difference-between-pip-and-pip3" class="headerlink" title="Whatâ€™s the difference between pip and pip3?"></a>Whatâ€™s the <strong>difference between pip and pip3</strong>?</h2><blockquote>
<p>Whatâ€™s the <strong>difference between pip and pip3</strong>? <strong>Pip</strong> is for python version less than 3. and <strong>pip3</strong> is used when you want to install packages for python version 3 or higher.</p>
</blockquote>
<p>The text about is right in most of cases. The packagesâ€™ installation location is different for pip and pip3. But sometimes, the pip command in bash is a soft-link to pip3, if you want to check whether your env is this case, just use <code>which pip</code> and <code>which pip3</code> command to see the unix executable.</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>remove an executable file to \usr\bin</title>
    <url>/2020/03/30/macos-user-bin/</url>
    <content><![CDATA[<p>It very silly setting of the MacOs<br>When you want to remove an executable file to \usr\bin, you will find it impossible, because It is protect by SIP (System integrity Protection). If you want to disable it, you have to go to the safety mode, which is restarting your mac with CMD+R holding. Then, in the safety tool -terminal, you can run a command to disable it.</p>
<p><strong>Actually, you donâ€™t need to do all these. You can just paste your exe file into â€¦\usr\local\bin.</strong> It is equally effective as you put it in â€¦\usr\bin.</p>
]]></content>
      <tags>
        <tag>MacOS</tag>
      </tags>
  </entry>
  <entry>
    <title>nvidia-ubuntu-env</title>
    <url>/2020/11/01/nvidia-ubuntu-env/</url>
    <content><![CDATA[<p>tested for two times.</p>
<h2 id="prepare"><a href="#prepare" class="headerlink" title="prepare"></a>prepare</h2><ul>
<li>download os from aliyun: <a href="http://mirrors.aliyun.com/ubuntu-releases/2">http://mirrors.aliyun.com/ubuntu-releases/2</a><ul>
<li>choose amd64 desktop version</li>
</ul>
</li>
<li>download qv2ray and v2ray core from github</li>
<li>download ultraiso</li>
<li>download cuda.run for your ubuntu version<ul>
<li><a href="https://developer.nvidia.com/cuda-toolkit-archive">https://developer.nvidia.com/cuda-toolkit-archive</a></li>
</ul>
</li>
</ul>
<blockquote>
<p>use a portable disk to save all the files in case next time you need them</p>
</blockquote>
<h2 id="install-ubuntu"><a href="#install-ubuntu" class="headerlink" title="install ubuntu"></a>install ubuntu</h2><ol>
<li>prepare a blank usb flash disk</li>
<li>open the os iso in ultraios, and write it to your usb flash disk</li>
<li>compress a blank partition in other disks, compress a 200m partition in your windows-disk</li>
<li>reboot, in bois, select the usb flash disk, reboot</li>
<li>edit install config(press <code>e</code>), add <code>nomodeset</code> after <code>quite splash</code> ( or it will èŠ±å±)</li>
<li>f10 to reboot</li>
<li>begin install<ol>
<li>choose the last option for install</li>
<li>add ubuntu disk partitions on your blank partition<ol>
<li>&#x2F;, main partition</li>
<li>home, logistic partition</li>
<li>add efi on 200m partition</li>
<li>add swap if your ram is small</li>
</ol>
</li>
</ol>
</li>
<li>after installation reboot</li>
<li>in grub, edit again, use <code>e</code>, add <code>nomodeset</code> after <code>quite splash</code></li>
</ol>
<h2 id="install-cuda-and-graphic-card-driver"><a href="#install-cuda-and-graphic-card-driver" class="headerlink" title="install cuda and graphic card driver"></a>install cuda and graphic card driver</h2><p>tutorials on Chinese websites are not good enough. they always said you need to install the driver first, but actually the cuda will recommend you to install the driver while you are installing cuda</p>
<ol>
<li><p>copy the cuda.run from your external disk to your local disk</p>
</li>
<li><p>change directory to where your cuda is</p>
</li>
<li><p><code>sudo chmod x+a cuda.run</code></p>
</li>
<li><p><code>sudo ./cuda.run</code></p>
</li>
<li><p>after installation, edit environment variables</p>
</li>
</ol>
<p> <code>sudo gedit /etc/profile</code>, append contents like in the bottom</p>
<p>refer to <a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#post-installation-actions">https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#post-installation-actions</a> for more</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=/usr/local/cuda-11.1/bin<span class="variable">$&#123;PATH:+:<span class="variable">$&#123;PATH&#125;</span>&#125;</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=/usr/local/cuda-11.1/lib64\</span><br><span class="line">                         <span class="variable">$&#123;LD_LIBRARY_PATH:+:<span class="variable">$&#123;LD_LIBRARY_PATH&#125;</span>&#125;</span></span><br></pre></td></tr></table></figure>

<p><code>source /etc/profile</code> to make it activated</p>
<h3 id="check"><a href="#check" class="headerlink" title="check"></a>check</h3><ol>
<li><p>use <code>nvidia-smi</code> and <code>nvcc -V</code> to check whether it works.</p>
</li>
<li><p>now you would be able to reboot the system without the need to add <code>nomodeset</code></p>
</li>
<li><p>run cuda examples</p>
<ul>
<li><p><code>cd ~/nvidia_cuda-11.1-examples</code></p>
</li>
<li><p><code>make</code></p>
</li>
<li><p><code>devicequery</code>, it is under utilities&#x2F;devicequery</p>
</li>
</ul>
</li>
</ol>
<h2 id="install-docker"><a href="#install-docker" class="headerlink" title="install docker"></a>install docker</h2><p><a href="https://docs.docker.com/engine/install/ubuntu/">https://docs.docker.com/engine/install/ubuntu/</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install \</span><br><span class="line">    apt-transport-https \</span><br><span class="line">    ca-certificates \</span><br><span class="line">    curl \</span><br><span class="line">    gnupg-agent \</span><br><span class="line">    software-properties-common</span><br><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><br><span class="line">sudo add-apt-repository \</span><br><span class="line">   <span class="string">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \</span></span><br><span class="line"><span class="string">   <span class="subst">$(lsb_release -cs)</span> \</span></span><br><span class="line"><span class="string">   stable&quot;</span></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>

<h3 id="check-1"><a href="#check-1" class="headerlink" title="check"></a>check</h3><p><code>sudo docker run hello-world</code></p>
<h3 id="add-permission"><a href="#add-permission" class="headerlink" title="add permission"></a>add permission</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo gpasswd -a current_user_name docker</span><br><span class="line">Sudo service docker restart</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<h2 id="install-others-just-follow-the-document"><a href="#install-others-just-follow-the-document" class="headerlink" title="install others, just follow the document"></a>install others, just follow the document</h2><ul>
<li>ngc</li>
<li>nvidia docker</li>
</ul>
<h2 id="use-vm-to-boost-local-docker-pull"><a href="#use-vm-to-boost-local-docker-pull" class="headerlink" title="use vm to boost local docker pull"></a>use vm to boost local docker pull</h2><ol>
<li>cd to <code>vm_for_docker_pull</code> ( it is from my private repo)</li>
<li>in bash, <code>ssh -i nessvm-asia_key.pem ness@52.175.13.200</code></li>
<li>pull the containers from NGC </li>
<li><code>docker tag image_from_ngc registry.cn-hangzhou.aliyuncs.com/ness001/image_name</code></li>
<li>on your local computer, <code>docker pull registry.cn-hangzhou.aliyuncs.com/ness001/image_name</code></li>
</ol>
<h3 id="current-pushed-images"><a href="#current-pushed-images" class="headerlink" title="current pushed images"></a>current pushed images</h3><p><code>registry.cn-hangzhou.aliyuncs.com/ness001/</code> +<code>aliyun image name</code></p>
<table>
<thead>
<tr>
<th>original name</th>
<th>tag</th>
<th>aliyun image name</th>
<th>usage</th>
</tr>
</thead>
<tbody><tr>
<td>nvcr.io&#x2F;nvidia&#x2F;tlt-streamanalytics</td>
<td>v2.0_py3</td>
<td>nv-tlt</td>
<td>transfer learning toolkit</td>
</tr>
<tr>
<td>nvidia&#x2F;cuda</td>
<td>11.0-base</td>
<td>cuda11</td>
<td>test for nvidia-docker2</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
]]></content>
      <tags>
        <tag>nvidia</tag>
      </tags>
  </entry>
  <entry>
    <title>pandas strange row number mismatch</title>
    <url>/2020/05/30/pandas-strange-row-number-mismatch/</url>
    <content><![CDATA[<h2 id="å‰æƒ…æè¦"><a href="#å‰æƒ…æè¦" class="headerlink" title="å‰æƒ…æè¦"></a>å‰æƒ…æè¦</h2><p>ä¸€ä¸ª30å…†ä¸åˆ°çš„csvæ–‡ä»¶ï¼Œ70å¤šä¸‡æ¡æ•°æ®ã€‚</p>
<p>ä½¿ç”¨read csvåŠ low memoryé€‰é¡¹è¯»å…¥ã€‚</p>
<p>å§‹ç»ˆæ˜¾ç¤ºï¼š</p>
<blockquote>
<p>class â€˜pandas.core.frame.DataFrameâ€™&gt;<br>Int64Index: 80350 entries, 0 to 722963<br>Data columns (total 5 columns):<br>user_id         80350 non-null float64<br>item_id_pred    80350 non-null float64<br>score           80350 non-null float64<br>rank            80350 non-null float64<br>item_id_true    80350 non-null float64<br>dtypes: float64(5)<br>memory usage: 3.7 MB</p>
</blockquote>
<p>debugé€”ä¸­æœ‰ä¸€ç¬é—´å­˜åœ¨è¿‡30må…¨éƒ¨è¯»å…¥çš„æƒ…å†µï¼Œå¯æ˜¯å†éš¾å¤ç°ã€‚</p>
<h2 id="å¯èƒ½çš„åŸå› "><a href="#å¯èƒ½çš„åŸå› " class="headerlink" title="å¯èƒ½çš„åŸå› "></a>å¯èƒ½çš„åŸå› </h2><ul>
<li><p>æ–‡ä»¶è¢«å…¶ä»–ç¨‹åºä½¿ç”¨ç€ - æ’é™¤ï¼Œæˆ‘æ²¡æœ‰æ‰“å¼€</p>
</li>
<li><p>æ–‡ä»¶ç¼–ç åŸå›  - æœªçŸ¥</p>
</li>
<li><p>read_csvé€‰é¡¹é‡Œè¿˜è¦åŠ ä¸œè¥¿<code>quoting=csv.QUOTE_NONE, error_bad_lines=Fals</code> -å®éªŒåï¼Œæ— ç”¨</p>
</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>prepare ml env</title>
    <url>/2020/10/02/prepare-env/</url>
    <content><![CDATA[<p>I built my new pc last month and walked through the tedious installation process for future machine learning usage.</p>
<p>Here are some reusable snippets just in case I forgot.</p>
<h1 id="My-wares"><a href="#My-wares" class="headerlink" title="My wares"></a>My wares</h1><h2 id="hardware"><a href="#hardware" class="headerlink" title="hardware"></a>hardware</h2><ul>
<li>Intel 10900k</li>
<li>RTX 2070s Colorful Adoc</li>
<li>ASUS Z490 edge wifi version</li>
<li>3600mhz 32G RAM</li>
</ul>
<h2 id="software"><a href="#software" class="headerlink" title="software"></a>software</h2><ul>
<li>win10 professional version</li>
<li>efficiency tools<ul>
<li>listary</li>
<li>chrome<ul>
<li>toby</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="conda"><a href="#conda" class="headerlink" title="conda"></a>conda</h1><ul>
<li>download anaconda</li>
<li>invoke anaconda prompt</li>
<li>create env<ul>
<li><code>conda create --name wow</code></li>
<li><code>conda create --name wow python=3.7.3</code></li>
</ul>
</li>
<li>list env<ul>
<li><code>conda env list</code></li>
</ul>
</li>
<li>activate env<ul>
<li><code>conda activate wow</code></li>
</ul>
</li>
<li>list env packages<ul>
<li><code>conda list</code></li>
</ul>
</li>
<li>clone an env<ul>
<li><code>conda create --name copy --clone wow</code></li>
</ul>
</li>
<li>remove an env<ul>
<li><code>conda env remove --name copy</code></li>
</ul>
</li>
</ul>
<h2 id="add-conda-to-path"><a href="#add-conda-to-path" class="headerlink" title="add conda to path"></a>add conda to path</h2><ul>
<li>in cmd, <code>where conda</code></li>
<li>add three paths to <strong>system environment variable</strong> PATH<ul>
<li>1</li>
<li>2</li>
<li>3</li>
</ul>
</li>
</ul>
<h2 id="change-mirror"><a href="#change-mirror" class="headerlink" title="change mirror"></a>change mirror</h2><p>find <code>.condarc</code> file under your user folder, replace the content with</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">channels:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">defaults</span></span><br><span class="line"><span class="attr">show_channel_urls:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">channel_alias:</span> <span class="string">https://mirrors.tuna.tsinghua.edu.cn/anaconda</span></span><br><span class="line"><span class="attr">default_channels:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/pro</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2</span></span><br><span class="line"><span class="attr">custom_channels:</span></span><br><span class="line">  <span class="attr">conda-forge:</span> <span class="string">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span></span><br><span class="line">  <span class="attr">msys2:</span> <span class="string">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span></span><br><span class="line">  <span class="attr">bioconda:</span> <span class="string">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span></span><br><span class="line">  <span class="attr">menpo:</span> <span class="string">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span></span><br><span class="line">  <span class="attr">pytorch:</span> <span class="string">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span></span><br><span class="line">  <span class="attr">simpleitk:</span> <span class="string">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span></span><br></pre></td></tr></table></figure>

<p>If you need to restore to the default settings, just delete all the lines after show_channel_urls line or you can use <code>conda config --remove-key channels</code></p>
<h1 id="pip"><a href="#pip" class="headerlink" title="pip"></a>pip</h1><ul>
<li><p><code>conda install pip</code></p>
</li>
<li><p>change mirror</p>
<ul>
<li>ï¼ˆ1ï¼‰é˜¿é‡Œäº‘ <a href="http://mirrors.aliyun.com/pypi/simple/">http://mirrors.aliyun.com/pypi/simple/</a><br>ï¼ˆ2ï¼‰è±†ç“£<a href="http://pypi.douban.com/simple/">http://pypi.douban.com/simple/</a><br>ï¼ˆ3ï¼‰æ¸…åå¤§å­¦ <a href="https://pypi.tuna.tsinghua.edu.cn/simple/">https://pypi.tuna.tsinghua.edu.cn/simple/</a><br>ï¼ˆ4ï¼‰ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ <a href="http://pypi.mirrors.ustc.edu.cn/simple/">http://pypi.mirrors.ustc.edu.cn/simple/</a><br>ï¼ˆ5ï¼‰åä¸­ç§‘æŠ€å¤§å­¦<a href="http://pypi.hustunique.com/">http://pypi.hustunique.com/</a></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip install pip -U</span><br><span class="line">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure>
</li>
<li><p>search for a package</p>
<ul>
<li><code>pip search keras</code></li>
</ul>
</li>
</ul>
<h1 id="prepare-ml-dl-env"><a href="#prepare-ml-dl-env" class="headerlink" title="prepare ml+dl env"></a>prepare ml+dl env</h1><h2 id="install-packages"><a href="#install-packages" class="headerlink" title="install packages"></a>install packages</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip install pandas scikit-learn seaborn tqdm</span><br><span class="line">pip install jupyter notebook</span><br><span class="line">pip install jupyter_contrib_nbextensions</span><br></pre></td></tr></table></figure>

<p>the latest tf2 supports both gpu and cpu.</p>
<p><a href="https://pytorch.org/">https://pytorch.org</a></p>
<p><a href="https://www.tensorflow.org/install">https://www.tensorflow.org/install</a></p>
<h2 id="install-cuda"><a href="#install-cuda" class="headerlink" title="install cuda"></a>install cuda</h2><p>You should check the pytorch page for cuda version or it canâ€™t detect your gpu properly.</p>
<p>Till now, the latest cuda version you could use is CUDA10.02.</p>
<p>You can find all cuda versions here.</p>
<ul>
<li><a href="https://developer.nvidia.com/cuda-toolkit-archive">https://developer.nvidia.com/cuda-toolkit-archive</a></li>
</ul>
<p>The difference between CUDA and cuDNN:</p>
<ul>
<li><a href="https://blog.csdn.net/u014380165/article/details/77340765">https://blog.csdn.net/u014380165/article/details/77340765</a></li>
</ul>
<h2 id="which-cnDNN-should-you-install"><a href="#which-cnDNN-should-you-install" class="headerlink" title="which cnDNN should you install"></a>which cnDNN should you install</h2><p>just use <code>pip install cudnn</code> and it will automatically choose the right version of cudnn for your cuda version.</p>
]]></content>
      <tags>
        <tag>ml101</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨pyinstallerå°†pyqt5æ‰“åŒ…ä¸ºMacOS App</title>
    <url>/2020/05/20/py-bundle/</url>
    <content><![CDATA[<h2 id="å®˜æ–¹æ–‡æ¡£"><a href="#å®˜æ–¹æ–‡æ¡£" class="headerlink" title="å®˜æ–¹æ–‡æ¡£"></a>å®˜æ–¹æ–‡æ¡£</h2><p><a href="https://pyinstaller.readthedocs.io/en/stable/usage.html">https://pyinstaller.readthedocs.io/en/stable/usage.html</a></p>
<h2 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> yourprogram</span><br><span class="line">sudo pyi-makespec --onefile --windowed yourscript.py</span><br><span class="line"><span class="comment">#å¦‚æœä½ ä¿®æ”¹äº†pyæ–‡ä»¶ï¼Œä¹Ÿä¸ç”¨å†è¿è¡Œä¸€éğŸ‘†çš„ä»£ç </span></span><br><span class="line">sudo pyinstaller --clean --noconfirm yourscript.spec</span><br></pre></td></tr></table></figure>

<p>å‡ºç°no permissioné—®é¢˜ï¼Œç”¨sudoå°±å¯¹äº†ã€‚</p>
<p>æˆ‘çš„ç¯å¢ƒï¼š</p>
<blockquote>
<p>163 INFO: PyInstaller: 3.6<br>164 INFO: Python: 3.7.4<br>187 INFO: Platform: Darwin-19.2.0-x86_64-i386-64bit<br>219 INFO: UPX is available.</p>
</blockquote>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>åŸºæœ¬æ ¼å¼ï¼š</p>
<p><code>pyinstaller</code> options.. <code>myscript.py</code></p>
<p><code>pyinstaller --windowed --onefile --clean --noconfirm testqt.py</code></p>
<p>è¿™æ ·ç”Ÿæˆçš„æ–‡ä»¶å¤¹distä¸­æ˜¯pkgæ–‡ä»¶ï¼Œå¾€å¾€æ‰“å¼€å°±å‡ºé”™ï¼Œä¸çŸ¥ä¸ºä½•</p>
<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œæ ¹ç›®å½•ä¸‹è¿˜ä¼šç”Ÿæˆä¸€ä¸ªspecæ–‡ä»¶ï¼Œspecæ–‡ä»¶æ˜¯å‘Šè¯‰pyinstallerå¦‚ä½•æ‰“åŒ…ä½ çš„ç¨‹åºçš„é…ç½®æ–‡ä»¶ï¼Œå¯¹specæ–‡ä»¶åšç›¸åŒçš„æ“ä½œï¼Œå°±å¯ä»¥è·å¾—appæ–‡ä»¶ã€‚</p>
<p><code>pyinstaller</code> options.. <code>myscript.spec</code></p>
<p><code>pyinstaller --clean --noconfirm testqt.spec</code></p>
<p>æ€ä¹ˆç›´æ¥è·å¾—specæ–‡ä»¶å‘¢ï¼Ÿ</p>
<p><code>pyi-makespec</code> <em>options</em> <code>*name*.py</code></p>
<p>specæ–‡ä»¶æ‰“å¼€ååº”è¯¥èƒ½çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å­—æ ·</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">app = BUNDLE(exe,</span><br><span class="line">         name=&#x27;myscript.app&#x27;,</span><br><span class="line">         icon=None,</span><br><span class="line">         bundle_identifier=None)</span><br></pre></td></tr></table></figure>



<h2 id="options"><a href="#options" class="headerlink" title="options"></a>options</h2><p>æ³¨æ„çŸ­æ¨ª-åæ˜¯ç¼©å†™ï¼Œâ€“åæ˜¯å…¨ç§°ã€‚</p>
<p><a href="https://pyinstaller.readthedocs.io/en/stable/usage.html">https://pyinstaller.readthedocs.io/en/stable/usage.html</a></p>
<h3 id="å¯¹pyçš„pyinstaller-å’Œpyi-makespecå‘½ä»¤ï¼ˆåªåˆ—å‡ºå¸¸ç”¨ï¼‰"><a href="#å¯¹pyçš„pyinstaller-å’Œpyi-makespecå‘½ä»¤ï¼ˆåªåˆ—å‡ºå¸¸ç”¨ï¼‰" class="headerlink" title="å¯¹pyçš„pyinstaller å’Œpyi-makespecå‘½ä»¤ï¼ˆåªåˆ—å‡ºå¸¸ç”¨ï¼‰"></a>å¯¹pyçš„pyinstaller å’Œpyi-makespecå‘½ä»¤ï¼ˆåªåˆ—å‡ºå¸¸ç”¨ï¼‰</h3><ul>
<li>â€“clean<ul>
<li>Clean PyInstaller cache and remove temporary files before building.</li>
</ul>
</li>
<li>â€“noconfirm -y<ul>
<li>Replace output directory (default: SPECPATH&#x2F;dist&#x2F;SPECNAME) without asking for confirmation</li>
</ul>
</li>
<li>â€“windowed -w<ul>
<li>Windows and Mac OS X: do not provide a console window for standard i&#x2F;o. On Mac OS X this also triggers building an OS X .app bundle. On Windows this option will be set if the first script is a â€˜.pywâ€™ file. This option is ignored in *NIX systems.</li>
</ul>
</li>
<li>â€“onefile -F<ul>
<li>Create a one-file bundled executable.</li>
</ul>
</li>
<li>onedir -D<ul>
<li>Create a one-folder bundle containing an executable (default)</li>
</ul>
</li>
<li>â€“osx-bundle-identifier BUNDLE_IDENTIFIER<ul>
<li>Mac OS X .app bundle identifier is used as the default unique program name for code signing purposes. The usual form is a hierarchical name in reverse DNS notation. For example: com.mycompany.department.appname (default: first scriptâ€™s basename)</li>
</ul>
</li>
</ul>
<hr>
<p>å®˜æ–¹è¯´å¯¹äºå¯¹pyçš„pyinstalleré€‰é¡¹åº“å’Œpyi-makespecçš„é€‰é¡¹åº“æ˜¯ä¸€æ ·çš„ã€‚</p>
<blockquote>
<p>You create a spec file using this command:</p>
<blockquote>
<p><code>pyi-makespec</code> <em>options</em> <code>*name*.py</code> [<em>other scripts</em> â€¦]</p>
</blockquote>
<p>The <em>options</em> are the same options documented above for the <code>pyinstaller</code> command. This command creates the <code>*name*.spec</code> file but does not go on to build the executable.</p>
</blockquote>
<p>ç„¶è€Œå…¶å®ä¸æ˜¯çš„ï¼Œå¦‚æœä½ åŠ å…¥ â€“cleançš„é€‰é¡¹ï¼Œåˆ™ä¼šå‡ºç°<code>pyi-makespec: error: unrecognized arguments: --clean</code>ï¼Œç»è¿‡æµ‹è¯•â€“noconfirmä¹Ÿæ˜¯ä¸èƒ½ç”¨çš„ã€‚</p>
<h3 id="å¯¹specçš„pyinstaller"><a href="#å¯¹specçš„pyinstaller" class="headerlink" title="å¯¹specçš„pyinstaller"></a>å¯¹specçš„pyinstaller</h3><p>å¯¹äºspecæ–‡ä»¶æ“ä½œï¼Œåªæœ‰è¿™äº›å‘½ä»¤æ˜¯èµ·ä½œç”¨çš„ã€‚</p>
<ul>
<li><code>--upx-dir=</code></li>
<li><code>--distpath=</code></li>
<li><code>--workpath=</code></li>
<li><code>--noconfirm</code></li>
<li><code>--ascii</code></li>
<li><code>--clean</code></li>
</ul>
<h2 id="é«˜åˆ†è¾¨ç‡app"><a href="#é«˜åˆ†è¾¨ç‡app" class="headerlink" title="é«˜åˆ†è¾¨ç‡app"></a>é«˜åˆ†è¾¨ç‡app</h2><p>å½“ä½ å¥½ä¸å®¹æ˜“æ‰“åŒ…å¥½ä¸€ä¸ªappåé—®é¢˜åˆæ¥äº†ï¼Œä½ å‘ç°ä½ çš„appçš„uiå¼‚å¸¸æ¨¡ç³Šï¼Œåˆ†è¾¨ç‡å¾ˆä½ã€‚ä½ åªéœ€è¦åœ¨specæ–‡ä»¶ä¸­åŠ ä¸Šinfo_plistå°±èƒ½è§£å†³é—®é¢˜ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">app = BUNDLE(exe,</span><br><span class="line">     name=&#x27;myscript.app&#x27;,</span><br><span class="line">     icon=None,</span><br><span class="line">     bundle_identifier=None</span><br><span class="line">     info_plist=&#123;</span><br><span class="line">        &#x27;NSHighResolutionCapable&#x27;: &#x27;True&#x27;  #&lt;------è¿™ä¸€å¥</span><br><span class="line">        &#125;,</span><br><span class="line">     )</span><br></pre></td></tr></table></figure>



<h2 id="å‡å°appä½“ç§¯"><a href="#å‡å°appä½“ç§¯" class="headerlink" title="å‡å°appä½“ç§¯"></a>å‡å°appä½“ç§¯</h2><p>å†™pythonç¨‹åºçš„è¿‡ç¨‹ä¸­å°½é‡ä¸è¦ä½¿ç”¨importï¼Œè€Œæ˜¯ç”¨fromâ€¦importâ€¦æ¥å‡å°‘è°ƒç”¨ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šå®‰è£…upx</p>
<ul>
<li>ä½¿ç”¨<code>brew install upx</code></li>
</ul>
<p>ç¬¬äºŒéƒ¨ï¼šä½¿ç”¨pipenvçš„å¹²å‡€ç¯å¢ƒè¿›è¡Œæ‰“åŒ…æ“ä½œã€‚</p>
<ul>
<li>ä»¥ä¸‹æ˜¯ä¸€ä¸ªæœ¬äººçš„é€šç”¨æµç¨‹ã€‚ä¾æ¬¡åœ¨bashä¸­è¿è¡Œã€‚</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install pipenv</span><br><span class="line">pip install pipreqs</span><br><span class="line">pipreqs <span class="comment">#generate clean requirements.txt</span></span><br><span class="line">pipenv install</span><br><span class="line">pipenv shell</span><br><span class="line">pip install -r requirements.txt</span><br><span class="line">pyi-makespec --onefile --windowed myscript.py</span><br><span class="line">pyinstaller --noconfirm --clean myscript.spec</span><br></pre></td></tr></table></figure>

<h2 id="ä¸çŸ¥é“é—®é¢˜å‡ºåœ¨å“ªé‡Œæ€ä¹ˆåŠï¼Ÿ"><a href="#ä¸çŸ¥é“é—®é¢˜å‡ºåœ¨å“ªé‡Œæ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="ä¸çŸ¥é“é—®é¢˜å‡ºåœ¨å“ªé‡Œæ€ä¹ˆåŠï¼Ÿ"></a>ä¸çŸ¥é“é—®é¢˜å‡ºåœ¨å“ªé‡Œæ€ä¹ˆåŠï¼Ÿ</h2><p>è¿è¡Œdistæ–‡ä»¶å¤¹ä¸‹çš„åŒåunixè¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹ä¼šåœ¨terminalä¸­æ‰“å¼€ï¼Œå¦‚æœæœ‰é”™è¯¯ä¼šåœ¨terminalä¸­è¡¨ç°å‡ºæ¥ã€‚</p>
<p>æ¯”å¦‚æˆ‘çš„appä¸€å¼€å§‹åªè¦åŒå‡»å°±ä¼šé—ªé€€ï¼Œäºæ˜¯æˆ‘ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæ§åˆ¶å°ä¸­å‡ºç°äº†å¦‚ä¸‹é”™è¯¯ã€‚ç»è¿‡æœç´¢äº†è§£åˆ°æ˜¯setuptoolsæœ€æ–°çš„å‡ ä¸ªç‰ˆæœ¬å’Œpyqt5æœ‰ç‚¹å†²çªã€‚ä½¿ç”¨<code>pip install setuptools==44.0.0</code>å®‰è£…44ç‰ˆæœ¬åå°±æ²¡é—®é¢˜äº†ã€‚</p>
<blockquote>
<p>File â€œsite-packages&#x2F;pkg_resources&#x2F;<strong>init</strong>.pyâ€, line 86, in <module></p>
<p>ModuleNotFoundError: No module named â€˜pkg_resources.py2_warnâ€™</p>
</blockquote>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>switchæå‡ç½‘é€Ÿçš„dnsæµ‹è¯•</title>
    <url>/2020/02/18/switch%E6%8F%90%E5%8D%87%E7%BD%91%E9%80%9F%E7%9A%84dns%E5%AE%9E%E9%AA%8C/</url>
    <content><![CDATA[<h2 id="æµ‹è¯•èƒŒæ™¯"><a href="#æµ‹è¯•èƒŒæ™¯" class="headerlink" title="æµ‹è¯•èƒŒæ™¯"></a>æµ‹è¯•èƒŒæ™¯</h2><p>ç”µä¿¡å…‰çº¤200mï¼Œä¸Šæµ·</p>
<p>è…¾è¾¾åƒå…†5gè·¯ç”±å™¨</p>
<h2 id="æµ‹è¯•ç»“æœ"><a href="#æµ‹è¯•ç»“æœ" class="headerlink" title="æµ‹è¯•ç»“æœ"></a>æµ‹è¯•ç»“æœ</h2><p>é¦™æ¸¯ï¼š</p>
<p>218.102.23.228</p>
<p>203.80.96.10</p>
]]></content>
      <tags>
        <tag>switch</tag>
      </tags>
  </entry>
  <entry>
    <title>è…¾è®¯äº‘ubuntuå¯ç”¨rootè´¦æˆ·</title>
    <url>/2019/12/13/%E8%85%BE%E8%AE%AF%E4%BA%91ubuntu%E5%90%AF%E7%94%A8root%E8%B4%A6%E6%88%B7/</url>
    <content><![CDATA[<h1 id="è…¾è®¯äº‘ubuntuå¯ç”¨rootè´¦æˆ·"><a href="#è…¾è®¯äº‘ubuntuå¯ç”¨rootè´¦æˆ·" class="headerlink" title="è…¾è®¯äº‘ubuntuå¯ç”¨rootè´¦æˆ·"></a>è…¾è®¯äº‘ubuntuå¯ç”¨rootè´¦æˆ·</h1><p>è…¾è®¯äº‘ubuntuçš„é»˜è®¤è´¦æˆ·åä¸ºubuntu</p>
<p>å¯ç”¨rootæ­¥éª¤</p>
<ul>
<li><p>sudo passwd root</p>
</li>
<li><p>sudo vi &#x2F;etc&#x2F;ssh&#x2F;sshd_config</p>
<ul>
<li><p>escï¼Œåœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹ï¼Œè¾“å…¥ &#x2F;PermitRootLoginï¼Œæœç´¢å®šä½åˆ°è¿™ä¸€è¡Œï¼Œä½¿ç”¨nå¯ä»¥åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª</p>
</li>
<li><p>iï¼Œåˆ é™¤#ï¼Œä¿®æ”¹åé¢çš„ prohibit-password ä¸º yes</p>
</li>
<li><blockquote>
<h4 id="PermitRootLogin-å‚æ•°"><a href="#PermitRootLogin-å‚æ•°" class="headerlink" title="PermitRootLogin å‚æ•°"></a>PermitRootLogin å‚æ•°</h4><p>æŒ‡å®š root æ˜¯å¦å¯ä»¥ç”¨ <a href="http://man.openbsd.org/ssh.1">ssh</a> ç™»å½•ã€‚å‚æ•°å€¼å¿…é¡»æ˜¯â€œyesâ€ã€â€œprohibit-passwordâ€ã€â€œwithout-passwordâ€ã€â€œorced-commands-onlyâ€æˆ–è€…â€œnoâ€ã€‚é»˜è®¤å€¼æ˜¯â€œprohibit-passwordâ€ã€‚</p>
<p>å¦‚æœè¿™ä¸ªé€‰é¡¹è®¾ç½®ä¸ºâ€œprohibit-passwordâ€ã€â€œwithout-passwordâ€ï¼Œé€šè¿‡å¯†ç å’Œé”®ç›˜äº¤äº’çš„æˆæƒæ–¹å¼å¯¹ root ç”¨æˆ·ç¦ç”¨ã€‚</p>
<p>å¦‚æœè¿™ä¸ªé€‰é¡¹è®¾ç½®ä¸ºâ€œorced-commands-onlyâ€ï¼Œroot ç”¨æˆ·åªå…è®¸é€šè¿‡å…¬é’¥æˆæƒç™»å½•ï¼Œä½†åªæ˜¯æŒ‡å®šäº† <em>conmmand</em>é€‰é¡¹çš„æ—¶å€™ï¼ˆè¿™å¯èƒ½å¯¹è¿œç¨‹å¤‡ä»½æ˜¯æœ‰å¥½å¤„çš„ï¼Œå³ä½¿ root ä¸å…è®¸ç™»å½•ï¼‰ã€‚å…¶ä»–æˆæƒæ–¹å¼å¯¹ root æ— æ•ˆã€‚</p>
<p>å¦‚æœè¿™ä¸ªé€‰é¡¹è®¾ç½®ä¸ºâ€œnoâ€ï¼Œroot ä¸å…è®¸ç™»å½•ã€‚</p>
</blockquote>
</li>
</ul>
</li>
<li><p>sudo service ssh restart ï¼ˆï¼ï¼ï¼ï¼‰</p>
</li>
<li><p>åˆ‡æ¢åˆ°root </p>
<ul>
<li>su root</li>
</ul>
</li>
</ul>
]]></content>
      <tags>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>GDB debugging introduction</title>
    <url>/2022/05/08/gdb-usage-intro/</url>
    <content><![CDATA[<p>This article introduces the common commands and shortcuts using GDB.<br>Suppose we have a program named <code>hello.c</code> and complied using <code>gcc -g -o hello hello.c</code>.</p>
<h1 id="commands"><a href="#commands" class="headerlink" title="commands"></a>commands</h1><p>Begin gdb session: <code>gdb hello</code></p>
<p>Set breakpoint: <code>break #lineNumber</code>, eg <code>break 10</code></p>
<blockquote>
<p>Hint: Find line number by using <code>vim hello.c</code>, press escape and input <code>:set nu</code></p>
</blockquote>
<p>Run: <code>run</code>, run with stdin: <code>run &lt; inputfile.txt</code></p>
<p>Start debugging: <code>start</code></p>
<p>Show local variables: <code>info locals</code></p>
<p>Watch a local variable: <code>watch variableName</code></p>
<p>Continue debugging: <code>continue</code></p>
<p>Step in: <code>step</code>, executed the next line without stepping in: <code>next</code></p>
<p>Display a variable at each step: <code>display variableName</code></p>
<h1 id="shortcuts"><a href="#shortcuts" class="headerlink" title="shortcuts"></a>shortcuts</h1><p>In gdb session, press <code>ctrl+x</code> and then press <code>a</code> to show the source code. Press <code>ctrl+x</code> and then press <code>2</code> to show the corresponding assembly code.</p>
<p><img src="/./assets/gdb-source-code.png" alt="gdb source code"></p>
<blockquote>
<p>You could also install cgdb to have better experiences. Use <code>cgdb hello</code> and press <code>escape</code> to scroll the source code and press <code>i</code> to exe command</p>
</blockquote>
<p>Press <code>ctrl+x</code> and then press <code>2</code> one more time to show the CPU register group.<br><img src="/./assets/gdb-reg.png" alt="gdb cpu registry"><br>Use <code>info all-registers</code> to show all registers.<br>Use <code>tui reg float</code> to show float registry group.</p>
]]></content>
      <tags>
        <tag>cs61c tools</tag>
      </tags>
  </entry>
</search>
